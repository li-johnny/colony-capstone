<ImageContainerWidget>:
    id: container
    RelativeLayout:
        Button:
            opacity: 0
            on_release: app.myLayout.previewer_update(root.source)
        AsyncImage:
            id: image
            source: root.source
            size_hint: (1, 1)
            fit_mode: 'cover'
        AnchorLayout:
            anchor_x: 'right'
            anchor_y: 'top'
            padding: 0, 10, 10, 0
            Button:
                text: "X"
                font_size: 14
                size_hint: (0.15, 0.15)
                on_release: root.remove()

# Container for colony count and edit button
<InfoContainer>
    size_hint: (0.4, 1)
    orientation: 'vertical'
    padding: 0, 0, 20, 0
    Label:
        size_hint: (1, 0.6)
        text: "Colonies Detected:"
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'top'
        Button:
            size_hint: (1, 0.1)
            text: "Edit"
            on_release: root.edit()

<MyGridLayout>
    GridLayout:
        cols: 2
        size: root.width, root.height


        # Imported images container on the left side of the screen
        ScrollView:
            size_hint: (0.4, 1)
            canvas.before:
                Color:
                    rgba: 0.2, 0.2, 0.2, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            GridLayout:
                id: image_box
                cols: 2
                size_hint: (1, None)
                height: self.minimum_height
                row_default_height: self.width/2
                col_default_width: self.width/2

        # Right side of the screen with image previewer and upload/process buttons
        GridLayout:
            cols: 1
            size_hint: (1, 1)
            GridLayout:
                cols: 2
                id: info_container
                canvas.before:
                    Color:
                        rgba: 0.286, 0.361, 0.51, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                AnchorLayout:
                    # padding: 230, 50, 230, 10
                    AsyncImage:
                        id: previewer
                        source: None
                        opacity: 0
                # InfoContainer:

            GridLayout:
                cols: 3
                size_hint: (1, 0.3)
                canvas.before:
                    Color:
                        rgba: 0.286, 0.361, 0.51, 1  # Set to the same color as cols: 2
                    Rectangle:
                        pos: self.pos
                        size: self.size

                AnchorLayout:
                    # padding: [padding_left, padding_top, padding_right, padding_bottom]
                    padding: 180, 0, 40, 0
                    Button:
                        id: upload_button
                        text: "Upload"
                        font_size: 32
                        size_hint: (1, 0.5)
                        on_release: root.file_explorer_or_cancel()
                        background_color: (0.5, 0.5, 0.5, 0.5)  # Makes the default button background transparent
                        canvas.before:
                            Color:
                                rgba: (1, 1, 1, 1)  # Button color (white in this case)
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [10]  # Adjust the radius for roundness



                AnchorLayout:
                    padding: 40, 0, 180, 0
                    Button:
                        id: process_button
                        text: "Process"
                        font_size: 32
                        size_hint: (1, 0.5)
                        on_release: root.on_process_button_press()
                        background_color: (0.5, 0.5, 0.5, 0.5)  # Makes the default button background transparent
                        canvas.before:
                            Color:
                                rgba: (1, 1, 1, 1)  # Button color (white in this case)
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [10]  # Adjust the radius for roundness
